"use strict";(self.webpackChunktodo_mvc=self.webpackChunktodo_mvc||[]).push([[179],{424:(e,t,r)=>{var n=r(527),o=r(478),l=r(959);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}function u(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],c=!0,a=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){a=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(){var e,t=f((0,l.useState)((e=localStorage.getItem("todo_list"))?JSON.parse(e):{}),2),r=t[0],n=t[1],o=f((0,l.useState)("unchecked"),2),s=o[0],h=o[1];return(0,l.useEffect)((function(){var e;e=r,localStorage.setItem("todo_list",JSON.stringify(e))}),[r]),{list:(0,l.useMemo)((function(){return function(e,t){var r=Object.entries(e).map((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],c=!0,a=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){a=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return n[0],n[1]}));switch(null==t?void 0:t.filter){case"checked":r=r.filter((function(e){return e.checked}));break;case"unchecked":r=r.filter((function(e){return!e.checked}))}return r.sort((function(e,t){return t.created_at-e.created_at}))}(r,{filter:s})}),[r,s]),add:function(e){var t,o,l,c,s;n((o=r,l=(t=e).content,c=t.checked,s=Date.now(),u(i({},o),a({},""+s,{id:s,content:l,checked:c,created_at:s}))))},update:function(e){try{var t=(l=r,c=(o=e).id,s=o.content,f=o.checked,l[c]?u(i({},l),a({},c,Object.assign(i({},l[c]),void 0!==s&&{content:s},"boolean"==typeof f&&{checked:f}))):new Error(JSON.stringify({code:-1001,message:"id not exists"})));d(t,Error)||n(t)}catch(e){}var o,l,c,s,f},del:function(e){try{var t=function(e,t){var r=e.id;if(!t[r])return new Error(JSON.stringify({code:-1002,message:"id not found"}));var n=i({},t);return delete n[r],n}(e,r);d(t,Error)||n(t)}catch(e){}},filter:s,setFilter:h}},y=r(924);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(){var e,t,r,o=(t=(0,l.useState)(""),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],c=!0,a=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);c=!0);}catch(e){a=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(a)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=o[0],a=o[1],i=h();return(0,n.jsxs)("div",{className:"container mx-auto h-screen flex flex-col",children:[(0,n.jsx)("div",{className:"mt-4 text-3xl text-center flex-none",children:"todos"}),(0,n.jsxs)("div",{className:"mt-4 md:mt-12 p-4 flex-auto flex flex-col overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex flex-none flex-wrap gap-4",children:[(0,n.jsx)("input",{value:c,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){var t;"Enter"===e.key&&(null==i||null===(t=i.add)||void 0===t||t.call(i,{checked:!1,content:c}),a(""))},className:"w-full md:w-80 border p-2",placeholder:"What are you want to do?"}),(0,n.jsx)("div",{className:"flex-auto"}),(0,n.jsxs)("div",{className:"flex-none flex items-center gap-4 md:ml-10",children:[(0,n.jsx)("button",{className:(0,y.Z)("border px-4 md:px-6 rounded-lg h-10",{"border-blue-500":"unchecked"===i.filter,"border-gray-500":"unchecked"!==i.filter}),onClick:function(){return"unchecked"!==i.filter&&i.setFilter("unchecked")},children:"unchecked"}),(0,n.jsx)("button",{className:(0,y.Z)("border px-4 md:px-6 rounded-lg h-10",{"border-blue-500":"checked"===i.filter,"border-gray-500":"checked"!==i.filter}),onClick:function(){return"checked"!==i.filter&&i.setFilter("checked")},children:"checked"}),(0,n.jsx)("button",{className:(0,y.Z)("border px-4 md:px-6 rounded-lg h-10",{"border-blue-500":"all"===i.filter,"border-gray-500":"all"!==i.filter}),onClick:function(){return"all"!==i.filter&&i.setFilter("all")},children:"all"})]})]}),(0,n.jsx)("ul",{className:"mt-4 p-4 flex-auto shadow-lg overflow-auto",children:null===(e=i.list)||void 0===e?void 0:e.map((function(e){return(0,n.jsxs)("li",{className:"flex leading-8",children:[(0,n.jsx)("div",{className:"mr-2 flex-none h-8",children:(0,n.jsx)("input",{type:"checkbox",defaultChecked:e.checked,onClick:function(t){var r;r={id:e.id,checked:t.target.checked},i.update(r)}})}),(0,n.jsx)("span",{className:"flex-auto break-all",children:e.content}),(0,n.jsx)("div",{onClick:function(){return t={id:e.id}.id,void i.del({id:t});var t},className:"cursor-pointer flex-none text-red-500 ml-2 w-8 h-8 overflow-hidden flex justify-center items-center",children:(0,n.jsx)("div",{className:"rotate-45 origin-center",children:"+"})})]},e.id)}))})]})]})}(0,o.s)(document.querySelector("#root")).render((0,n.jsx)(b,{}))}},e=>{e.O(0,[951],(()=>(424,e(e.s=424)))),e.O()}]);
//# sourceMappingURL=main.7d6f6e4.js.map